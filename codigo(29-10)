using System;
using System.Collections;
using System.Collections.Generic;
using System.Runtime;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
namespace trabajo_practico
{
    class Program
    {
        public static void Main(string[] args)
        {
            menu();
            Console.ReadKey(true);
        }
        static void menu() //hacer que el menu redireccione en vez de resolver algo
        {
            int valor;
            console.WriteLine("");
            Console.WriteLine("Presione 1 para agregar cliente ");
            Console.WriteLine("Presione 2 para Modificar la cantidad de minutos consumidos por un cliente dado");
            Console.WriteLine("Presione 3 para Eliminar cliente de la empresa.");
            Console.WriteLine("Presione 4 para Dada un área determinada imprimir el nombre de los técnicos asignados a la misma");
            Console.WriteLine("Presione 5 para Listado de clientes");
            Console.WriteLine("Presione 6 para Agregar técnico");
            Console.WriteLine("Presione 7 para Imprimir la facturación de cada cliente en base a su plan");
            Console.WriteLine("Presione 8 para Listado de técnicos");
            Console.WriteLine("Presione 9 para salir");
            console.WriteLine("");
            valor=int.Parse(Console.ReadLine());
            while(valor != 9)
            {
                switch(valor){
                    //crear variables para llamar a las clases
                    el_cliente cosa_cliente = new el_cliente();
                    telefonia cosa_telefonia = new telefinia();
                    tecnico cosa_tecnico = new tecnico();
                    case 1:
                    cosa_cliente.nuevo_cliente();
                    cosa_cliente.pasar_tele();
                    //falta verificar si hay cupo suficiente
                    break;
                    case 2:
                    cosa_telefonia.modificar(); //modificar minutos consumidos
                    break;
                    case 3:
                    cosa_telefonia.eliminar(); //eliminar cliente
                    break;
                    case 4:
                    cosa_tecnico.mostrar_tec_area(); //lista de tecnicos que hay en un area 
                    break;
                    case 5:
                    cosa_telefonia.mostrar_clientes();
                    break;
                    case 6:
                    cosa_tecnico.agregar_tec();
                    break;
                    case 7:
                    cosa_telefonia.facturación_cliente();
                    break;
                    case 8:
                    cosa_tecnico.mostrar_tec(); //lista completa de tecnicos
                    break;
                    default:
                    Console.WriteLine("La opcion ingresada es inexistente, por favor trate de nuevo:");
                    valor = int.Parse(Console.ReadLine());
                    break;
                }
            }
            if (valor == 9){
                Console.WriteLine("El programa se cerrara de inmediato...");
            }
            menu();
        }
    }
    public class el_cliente{
        //atributos
        private ArrayList un_cliente = new ArrayList();
        private int numero_cliente = 1;S
        private double fact = 0;
        //metodos
        protected ArrayList nuevo_cliente(){
            Console.WriteLine("ingrese su apellido: "); //posicion 0
            un_cliente.add(Console.ReadLine());
            Console.WriteLine("ingrese su nombre: "); //posicion 1
            un_cliente.add(Console.ReadLine());
            Console.WriteLine("ingrese su DNI: "); //posicion 2
            un_cliente.add(Console.ReadLine());
            Console.WriteLine("ingrese la fecha en que se inscribio de esta forma dd/mm/aaaa: "); //posicion 3
            un_cliente.add(Console.ReadLine());
            Console.WriteLine("ingrese el plan que desea: "); //posicion 4
            un_cliente.add(Console.ReadLine());
            console.WriteLine("ingrese el area en el que reside"); //posicion 5
            un_cliente.add(console.ReadLine());
            un_cliente.add(numero_cliente); //posicion 6
            un_cliente.add(fact); //posicion 7
            console.WriteLine("su numero de cliente sera: {0}",numero_cliente)
            numero_cliente++;
            return un_cliente;
        }
        protected void pasar_tele(){
            telefonia cosa_tele = new telefonia(un_cliente);
            cosa_tele.agregar(); //se agrega el cliente a la lista de clientes
            un_cliente.Clear(); //se borra la informacion del cliente despues
            return;
        }
    }
    public class telefonia{
        cosas
    }
    public class tecnico{
        cosas
    }
    public class combos{
        private DateTime oferta_tiempo = new DateTime(31/12/2022); //fecha limite de la oferta
        private ArrayList un_cli = new ArrayList();
        private ArrayList canales = new ArrayList();
        private int cant_canales;
        protected int cupos_maximos = 30;
        protected int cupos_ocupados = 0;

        private int minutos_libre;
        private double costo_minutos;
        private double precio_final;
        private ArrayList lista_promo = new ArrayList();

        //constructor
        public combos(){}
        public combos(ArrayList de_algo){ //se recibe un cliente
            un_cli = de_algo;
        }
        public ArrayList asignacion_cli{
            set{
                un_cli = value;
            }
        }

        //metodos
        protected verificar_combo()
        {
            if un_cli[4] == 1 
            {
                combo1();
            }
            if un_cli[4] == 2
            {
                combo2();
            }
            if un_cli[4] == 3
            {
                combo3();
            }
            if un_cli[4] == 4
            {
                combo4();
            }
        }
        public void promocion()
        {
            if ((un_cli[3] < oferta_tiempo) && (cupos_ocupados < cupos_maximos))
            {
                cant_canales = 0;
                while (canales.count < 121){ //se agregan los otros 121 canales
                    canales.add(cosito);
                    cosito++;
                } //cuando termina se le agregan los 2 canales del plus haciendo un total de 123 canales
                canales.Add("pack fútbol");
                canales.Add("Disney");
            }
            //entre el if y el else se deberia implementar el manejo de exepciones "cupos insuficientes"
            else
            {
                cant_canales = 0;
                while (canales.count < 121){ //se agregan los 121 canales y listo
                    canales.add(cosito);
                    cosito++;
            }
        }
        public void oferta(double consumidos, double libres)
        {
            if (consumidos < libres*0.15)
            {
                precio_final = precio_final * 0.85;
                Console.WriteLine(precio_final);
            }
        }
        public ArrayList combo1() 
        {
            //asignacion
            minutos_libre=150;
            costo_minutos=3;
            precio_final=450;
            promocion()
            // hay que modificar el metodo "oferta" desde la opcion de modificar minutos consumidos
    	}
        public ArrayList combo2() 
        {
            //asignacion
            minutos_libre=150;
            costo_minutos=3; //cambiar los tres
            precio_final=450;
            promocion()
            // hay que modificar el metodo "oferta" desde la opcion de modificar minutos consumidos
    	}
        public ArrayList combo3() 
        {
            //asignacion
            minutos_libre=150;
            costo_minutos=3; //cambiar los tres
            precio_final=450;
            promocion()
            // hay que modificar el metodo "oferta" desde la opcion de modificar minutos consumidos
    	}
        public ArrayList combo4() 
        {
            //asignacion
            minutos_libre=150;
            costo_minutos=3; //cambiar los tres
            precio_final=450;
            promocion()
            // hay que modificar el metodo "oferta" desde la opcion de modificar minutos consumidos
    	}
    }
}
